(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[12],{

/***/ "./src/components/C-CSL-6-animated-card-carousel/AnimatedCardCarousel.js":
/*!*******************************************************************************!*\
  !*** ./src/components/C-CSL-6-animated-card-carousel/AnimatedCardCarousel.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _verndale_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @verndale/core */ \"./node_modules/@verndale/core/lib/index.js\");\n/* harmony import */ var _verndale_core__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_verndale_core__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var swiper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! swiper */ \"./node_modules/swiper/swiper.esm.js\");\n\n // configure Swiper to use modules\n\nswiper__WEBPACK_IMPORTED_MODULE_1__[\"default\"].use([swiper__WEBPACK_IMPORTED_MODULE_1__[\"Autoplay\"], swiper__WEBPACK_IMPORTED_MODULE_1__[\"Pagination\"], swiper__WEBPACK_IMPORTED_MODULE_1__[\"Parallax\"]]);\n/**\n * `AnimatedCardCarousel`\n *\n *\n * @example\n * import { AnimatedCardCarousel } from '@verndale/front-end-components';\n *\n * class Foo {\n *   construction(){\n *\n *     const AnimatedCardCarousel = new AnimatedCardCarousel('.animated-carousel-card');\n *   }\n * }\n */\n\nclass AnimatedCardCarousel extends _verndale_core__WEBPACK_IMPORTED_MODULE_0__[\"Component\"] {\n  setupDefaults() {\n    this.autoplay = this.el.dataset.autoplayTimeout || 10000;\n    this.dom = {\n      slider: this.el.querySelector('.swiper-container'),\n      slides: this.el.querySelectorAll('.swiper-slide'),\n      actionsContainer: this.el.querySelector('.animated-card-carousel__actions'),\n      pagination: this.el.querySelector('.animated-card-carousel__pagination'),\n      present: this.el.querySelector('.animated-card-carousel__present')\n    };\n\n    if (this.dom.slides.length) {\n      this.initSlider();\n    } else {\n      this.dom.actionsContainer.style.display = 'none';\n    }\n  }\n\n  addListeners() {\n    this.dom.present.addEventListener('click', this.onPresentClick.bind(this));\n  }\n\n  initSlider() {\n    this.swiper = new swiper__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.dom.slider, {\n      speed: 1000,\n      parallax: true,\n      spaceBetween: 60,\n      threshold: 8,\n      autoplay: {\n        delay: this.autoplay,\n        disableOnInteraction: false,\n        stopOnLastSlide: true,\n        pauseOnMouseEnter: true\n      },\n      pagination: {\n        el: this.dom.pagination,\n        clickable: true,\n        renderBullet: (index, className) => `<div class=\"${className}\" aria-label=\"Slide ${index}\">\n            <div class=\"${className}__inner\"></div>\n          </div>`\n      },\n      on: {\n        afterInit: swiper => {\n          this.animateBullet(swiper);\n          this.disableLinks(swiper);\n        },\n        slideChangeTransitionStart: swiper => {\n          if (!swiper.autoplay.running) {\n            swiper.autoplay.start();\n          }\n\n          this.animateBullet(swiper);\n          this.disableLinks(swiper);\n        }\n      }\n    });\n  }\n\n  disableLinks(swiper) {\n    swiper.slides.forEach(slide => {\n      if (slide.classList.contains('swiper-slide-active')) {\n        slide.querySelectorAll('a').forEach(link => link.removeAttribute('tabindex'));\n      } else {\n        slide.querySelectorAll('a').forEach(link => link.setAttribute('tabindex', -1));\n      }\n    });\n  }\n\n  animateBullet(swiper) {\n    let progress = 0;\n    const index = swiper.realIndex + 1;\n    const autoplayTime = this.autoplay / 100;\n    const bulletInner = this.dom.pagination.querySelector(`.swiper-pagination-bullet:nth-child(${index}) .swiper-pagination-bullet__inner`); // Reset all bullets\n\n    this.dom.pagination.querySelectorAll('.swiper-pagination-bullet__inner').forEach(bullet => bullet.style.width = 0); // Reset intervals if exist\n\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n\n    if (bulletInner) {\n      this.interval = setInterval(() => {\n        if (swiper.autoplay.paused || !swiper.autoplay.running) {\n          progress = 0;\n          bulletInner.style.width = progress;\n        }\n\n        if (progress >= 100) {\n          bulletInner.style.width = 0;\n          clearInterval(this.interval);\n          return;\n        }\n\n        bulletInner.style.width = `${progress++}%`;\n      }, autoplayTime);\n    }\n  }\n\n  onPresentClick() {\n    this.swiper.slideTo(this.dom.slides.length - 1);\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (AnimatedCardCarousel);\n\n//# sourceURL=webpack:///./src/components/C-CSL-6-animated-card-carousel/AnimatedCardCarousel.js?");

/***/ })

}]);